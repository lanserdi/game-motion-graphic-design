(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.hok=b():a.hok=b()})('undefined'==typeof self?this:self,function(){var a=Math.PI;return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a),this.eleWrap=b,this.ratio=window.devicePixelRatio,this.layerWidth=null,this.layerHeight=null,this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),b.appendChild(this.canvas)}return d(a,[{key:'setCanvasSize',value:function(a,b){a=a||400,b=b||400,this.canvas.width=this.layerWidth=a*this.ratio,this.canvas.height=this.layerHeight=b*this.ratio,this.canvas.style='width:'+a+'px;height:'+b+'px;'}}]),a}();b.default=e},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a),this.x=0,this.y=0,this.scale=1,this.animationId=null,this.layer=null}return d(a,[{key:'render',value:function(){}},{key:'startAni',value:function(){this.animationId=window.requestAnimationFrame(function(){this.startAni()}.bind(this));var a=this.layer.context;a.clearRect(0,0,a.canvas.width,a.canvas.height),this.render()}},{key:'stopAni',value:function(){window.cancelAnimationFrame(this.animationId)}}]),a}();b.default=e},function(a,b,c){'use strict';a.exports=c(3)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(4);Object.defineProperty(b,'Recharge',{enumerable:!0,get:function(){return d.Recharge}});var e=c(5);Object.defineProperty(b,'Focus',{enumerable:!0,get:function(){return e.Focus}})},function(b,c,d){'use strict';function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function g(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function h(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,'__esModule',{value:!0}),c.Recharge=void 0;var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=d(0),k=e(j),l=d(1),m=e(l),n=c.Recharge=function(b){function c(a){f(this,c);var b=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return b.layer=new k.default(a),b.layer.setCanvasSize(300,300),b.x=300/2,b.y=300/2,b.scale=2,b.animationId=null,b.minLight=.3,b.maxLight=.6,b.lightProgress=b.minLight,b.fires=b.getFires(),b}return h(c,b),i(c,[{key:'drawBag',value:function(b){b.save(),b.shadowColor='hsla(40, 70%, 50%, 1)',b.shadowBlur=15,b.shadowOffsetX=0,b.shadowOffsetY=0,b.translate(this.x,this.y+5),b.scale(this.scale,.87*this.scale),b.beginPath(),b.arc(0,10,11,0,2*a,!0),b.strokeStyle='hsla(60, 80%, 50%, 1)',b.lineWidth=b.stroke();var c=b.createLinearGradient(0,0,0,30);c.addColorStop(0,'hsl(60, 80%, 50%)'),c.addColorStop(1,'hsl(60, 80%, 50%)'),b.fillStyle=c,b.fill(),b.restore(),b.save(),b.shadowColor='hsla(40, 70%, 50%, 1)',b.shadowBlur=15,b.shadowOffsetX=0,b.shadowOffsetY=0,b.translate(this.x,this.y),b.scale(this.scale,this.scale),b.beginPath(),b.moveTo(0,0),b.lineTo(4,0),b.lineTo(8,-6),b.lineTo(3,-5),b.lineTo(0,-9),b.lineTo(-3,-5),b.lineTo(-8,-6),b.lineTo(-4,0),b.closePath(),b.lineJoin='round',b.strokeStyle='hsl(60, 80%, 50%)',b.lineWidth=1,b.stroke();var c=b.createLinearGradient(0,0,0,-10);c.addColorStop(0,'hsl(60, 80%, 50%)'),c.addColorStop(1,'hsl(60, 80%, 50%)'),b.fillStyle=c,b.fill(),b.restore(),b.save(),b.translate(this.x,this.y+21),b.rotate(-12*(a/180)),b.scale(this.scale,this.scale),b.textBaseline='middle',b.textAlign='center',b.font='normal 700 13px "\u5FAE\u8F6F\u96C5\u9ED1"',b.fillStyle='hsl(30, 90%, 48%)',b.fillText('S',0,0),b.restore()}},{key:'drawLight',value:function(b){this.lightSpeed?null:this.lightSpeed=1,0<this.lightSpeed?(this.lightProgress+=.005,this.lightProgress>this.maxLight&&(this.lightSpeed=-1)):(this.lightProgress-=.01,this.lightProgress<this.minLight&&(this.lightSpeed=1));var c=b.createRadialGradient(0,0,0,0,0,22);c.addColorStop(0,'hsla(60, 80%, 50%, '+this.lightProgress+')'),c.addColorStop(1,'hsla(60, 80%, 50%, 0)'),b.save(),b.translate(this.x,this.y+20),b.scale(.8*this.scale,1*this.scale),b.beginPath(),b.arc(0,0,30,0,2*a,!0),b.fillStyle=c,b.fill(),b.restore()}},{key:'getFire',value:function(){var a=-10+30*Math.random(),b=-20+40*Math.random(),c=a+20+30*Math.random(),d=b-20-20*Math.random(),e={x:a,y:b,targetX:c,targetY:d,speedX:.2+.15*Math.random(),speedY:.1+.4*Math.random(),size:.2+.5*Math.random()};return e}},{key:'getFires',value:function(){for(var a=[],b=0;15>b;b++)a.push(this.getFire());return a}},{key:'updateFire',value:function(){for(var a,b=0;b<this.fires.length;b++)if(a=this.fires[b],a.x+=a.speedX,a.y-=a.speedY,a.y<a.targetY){var c=this.getFire();a.x=c.x,a.y=c.y,a.speedX=c.speedX,a.speedY=c.speedY,a.targetX=c.targetX,a.targetY=c.targetY,a.size=c.size}}},{key:'drawFire',value:function(b){this.updateFire();for(var c,d=this.x+12,e=this.y+25,f=this.scale,g=0;g<this.fires.length;g++)c=this.fires[g],b.save(),b.shadowColor='hsla(60, 100%, 70%, 1)',b.shadowBlur=10,b.shadowOffsetX=0,b.shadowOffsetY=0,b.translate(d,e),b.translate(c.x,c.y),b.scale(f,f),b.beginPath(),b.moveTo(0,0),b.arc(0,0,c.size,0,2*a,!0),b.fillStyle='hsla(60, 100%, 50%, 1)',b.fill(),b.restore()}},{key:'render',value:function(){var a=this.layer.context;this.drawBag(a),this.drawLight(a),this.drawFire(a)}}]),c}(m.default)},function(b,c,d){'use strict';function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function g(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function h(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,'__esModule',{value:!0}),c.Focus=void 0;var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=d(0),k=e(j),l=d(1),m=e(l),n=c.Focus=function(b){function c(a){f(this,c);var b=g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),d=240,e=200;return b.layer=new k.default(a),b.layer.setCanvasSize(d,e),b.x=d/2,b.y=e/2,b.scale=1,b}return h(c,b),i(c,[{key:'drawSingleArc',value:function(b){b.save(),b.shadowColor='hsl(30, 100%, 50%)',b.shadowBlur=15,b.scale(this.layer.ratio,this.layer.ratio),b.scale(this.scale,this.scale),b.strokeStyle='hsl(53, 100%, 50%)',b.lineWidth=2,b.lineCap='round',b.lineJoin='round',b.beginPath(),b.arc(0,0,80,0,70*(a/180),!1),b.arc(0,0,92,72*(a/180),50*(a/180),!0),b.lineTo(60,62),b.arc(0,0,86,40*(a/180),28*(a/180),!0),b.lineTo(82,33),b.arc(0,0,92,20*(a/180),0*(a/180),!0),b.closePath(),b.stroke(),b.fillStyle='hsla(53, 100%, 50%, .05)',b.fill(),b.beginPath(),b.arc(0,0,80,75*(a/180),86*(a/180),!1),b.lineTo(6,106),b.lineTo(15,115),b.lineTo(24,106),b.closePath(),b.stroke(),b.fill(),b.restore()}},{key:'drawOuterSingleArc',value:function(a){a.save(),a.shadowColor='hsl(30, 100%, 50%)',a.shadowBlur=20,a.scale(this.layer.ratio,this.layer.ratio),a.scale(this.scale,this.scale),a.strokeStyle='hsl(53, 100%, 50%)',a.lineWidth=3,a.lineCap='round',a.lineJoin='round',a.beginPath(),a.stroke(),a.restore()}},{key:'drawOuterCircle',value:function(b){void 0==this.outerCircleAngle?this.outerCircleAngle=0:null,this.outerCircleAngle-=.2,b.save(),b.translate(this.layer.layerWidth/2,this.layer.layerHeight/2),b.scale(1,.6),b.rotate(a/180*this.outerCircleAngle);for(var c=0;4>c;c++)b.save(),b.rotate(90*(a/180*c)),this.drawOuterSingleArc(b),b.restore();b.restore()}},{key:'drawCircle',value:function(b){void 0==this.circleAngle?this.circleAngle=0:null,this.circleAngle+=.2,b.save(),b.translate(this.layer.layerWidth/2,this.layer.layerHeight/2),b.scale(1,.6),b.rotate(a/180*this.circleAngle);for(var c=0;4>c;c++)b.save(),b.rotate(90*(a/180*c)),this.drawSingleArc(b),b.restore();b.restore()}},{key:'render',value:function(){var a=this.layer.context;this.drawCircle(a),this.drawOuterCircle(a)}}]),c}(m.default)}])});