(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.hok=b():a.hok=b()})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';a.exports=c(1)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(2);Object.defineProperty(b,'SC',{enumerable:!0,get:function(){return d.SC}})},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=b.SC=function(){function a(b){c(this,a),this.eleCanvas=b,this.init()}var b=Math.PI;return d(a,[{key:'init',value:function(){var a=180,b=300;this.eleCanvas.width=a,this.eleCanvas.height=b,this.eleCanvas.style='width:'+a+'px; height:'+b+'px;',this.ctx=this.eleCanvas.getContext('2d'),this.x=60,this.y=200,this.scale=3,this.animationId=null,this.minLight=.3,this.maxLight=.6,this.lightProgress=this.minLight,this.fires=this.getFires()}},{key:'drawBag',value:function(a){var c=this.x,d=this.y,e=this.scale;a.save(),a.shadowColor='hsla(40, 70%, 50%, 1)',a.shadowBlur=10,a.shadowOffsetX=0,a.shadowOffsetY=0,a.translate(c,d),a.scale(e,e),a.beginPath(),a.moveTo(0,-1),a.lineTo(4,0),a.lineTo(8,-6),a.lineTo(3,-5),a.lineTo(0,-9),a.lineTo(-3,-5),a.lineTo(-8,-6),a.lineTo(-4,0),a.closePath(),a.lineJoin='round',a.strokeStyle='hsl(60, 80%, 50%)',a.lineWidth=1,a.stroke();var f=a.createLinearGradient(0,0,0,-10);f.addColorStop(0,'hsl(60, 80%, 50%)'),f.addColorStop(1,'hsl(60, 80%, 50%)'),a.fillStyle=f,a.fill(),a.restore(),a.save(),a.shadowColor='hsla(40, 70%, 50%, 1)',a.shadowBlur=10,a.shadowOffsetX=0,a.shadowOffsetY=0,a.translate(c,d+6),a.scale(e,.87*e),a.beginPath(),a.arc(0,10,11,0,2*b,!0),a.strokeStyle='hsla(60, 80%, 50%, 1)',a.lineWidth=a.stroke();var f=a.createLinearGradient(0,0,0,30);f.addColorStop(0,'hsl(60, 80%, 50%)'),f.addColorStop(1,'hsl(60, 80%, 50%)'),a.fillStyle=f,a.fill(),a.restore(),a.save(),a.translate(c,d+28),a.rotate(-14*(b/180)),a.scale(e,e),a.textBaseline='middle',a.textAlign='center',a.font='normal 700 13px "\u5FAE\u8F6F\u96C5\u9ED1"',a.fillStyle='hsl(30, 90%, 48%)',a.fillText('S',0,0),a.restore()}},{key:'drawLight',value:function(a){this.lightSpeed?null:this.lightSpeed=1,0<this.lightSpeed?(this.lightProgress+=.005,this.lightProgress>this.maxLight&&(this.lightSpeed=-1)):(this.lightProgress-=.01,this.lightProgress<this.minLight&&(this.lightSpeed=1));var c=this.x,d=this.y+20,e=this.scale,f=a.createRadialGradient(0,0,0,0,0,25);f.addColorStop(0,'hsla(60, 80%, 50%, '+this.lightProgress+')'),f.addColorStop(1,'hsla(60, 80%, 50%, 0)'),a.save(),a.translate(c,d),a.scale(.9*e,1*e),a.beginPath(),a.arc(0,0,30,0,2*b,!0),a.fillStyle=f,a.fill(),a.restore()}},{key:'getFire',value:function(){var a=-10+30*Math.random(),b=-20+30*Math.random(),c=a+20+30*Math.random(),d=b-20-20*Math.random(),e={x:a,y:b,targetX:c,targetY:d,speedX:.2+.15*Math.random(),speedY:.1+.4*Math.random(),size:.4+.5*Math.random()};return e}},{key:'getFires',value:function(){for(var a=[],b=0;15>b;b++)a.push(this.getFire());return a}},{key:'updateFire',value:function(){for(var a,b=0;b<this.fires.length;b++)if(a=this.fires[b],a.x+=a.speedX,a.y-=a.speedY,a.y<a.targetY){var c=this.getFire();a.x=c.x,a.y=c.y,a.speedX=c.speedX,a.speedY=c.speedY,a.targetX=c.targetX,a.targetY=c.targetY,a.size=c.size}}},{key:'drawFire',value:function(a){this.updateFire();for(var c,d=this.x+12,e=this.y+25,f=this.scale,g=0;g<this.fires.length;g++)c=this.fires[g],a.save(),a.shadowColor='hsla(60, 100%, 50%, 1)',a.shadowBlur=15,a.shadowOffsetX=0,a.shadowOffsetY=0,a.translate(d,e),a.translate(c.x,c.y),a.scale(f,f),a.beginPath(),a.moveTo(0,0),a.arc(0,0,c.size,0,2*b,!0),a.fillStyle='hsla(60, 100%, 50%, 1)',a.fill(),a.restore()}},{key:'startAni',value:function(){this.animationId=window.requestAnimationFrame(function(){this.startAni()}.bind(this));var a=this.ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height),this.render()}},{key:'stopAni',value:function(){window.cancelAnimationFrame(this.animationId)}},{key:'render',value:function(){var a=this.ctx;this.drawBag(a),this.drawLight(a),this.drawFire(a)}}]),a}()}])});